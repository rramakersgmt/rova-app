<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet">

    <link href="styles/overrides.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">

    <script src="cordova.js"></script>
    <script src="kendo/js/jquery.min.js"></script>
    <script src="app.js"></script>
    
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.common.min.css"/>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.rtl.min.css"/>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.silver.min.css"/>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.mobile.all.min.css"/>

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://kendo.cdn.telerik.com/2016.2.504/js/kendo.all.min.js"></script>
</head>

<body id="kendoUiMobileApp">
    <script src="components/home/index.js"></script>
    <script src="kendo/js/kendo.culture.nl-NL.js"></script>
    <script src="scripts/scanner.js"></script>

    <!-- START_CUSTOM_CODE_kendoUiMobileApp -->
    <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->
<script>

    kendo.culture("nl-NL")
    var url="http://clearweigh.gmt.nl/demo/";
    var wegingenDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: url + "wegingen",
                /*url: "wegingen.jsonp",*/
                jsonpCallback: "CallBackWegingen",
                type: "get",
                dataType: "jsonp",
                cache: false,
            },
            update: {
                url: url + "wegingupdate",
                type: "get",
                dataType: "jsonp",
                jsonpCallback: "CallBackWegingUpdate",
                            complete: function(e) {
				$("#grid").data("kendoGrid").dataSource.read(); 
			},
            }
        },
        page: 1,
        pageSize: 11,
        // describe the result format
        schema: {
			model: {
                id: "hiddenkey",
                fields: {
                    hiddenkey: 	{type: "number", hidden: true},
                    bonnr: 		{type: "string"},
                    postcode: 	{type: "string"},
                    datum:		{type: "string"},
                    afval:   	{type: "number", hidden: true},
                    afval_type: {type: "string", hidden: true},
                    quotum:     {type: "number"},
                    inweging:   {type: "number"},
                    straat:     {type: "string"},
                    plaats:     {type: "string"},
                    gemeente:   {type: "string"},
                }
            }            
        },
    });    

    var afvalDataSource = new kendo.data.DataSource({
        transport: {
            read: {
                url: url + "afval",
                jsonpCallback: "CallBackAfval",
                type: "get",
                dataType: "jsonp",
                cache: false,
             },
        },
        // describe the result format
        schema: {
			model: {
                id: "afval_id",
                fields: {
                    afval_id:		{type: "number"},
                    afval_code:		{type: "string"},
                    afval_omschr: 	{type: "string"},
                    prijs:			{type: "number"},
                    afval_type_C1:  {type: "number", hidden: true},
                    afval_type_C2:  {type: "number", hidden: true},
                    afval_type_C3:  {type: "number", hidden: true},
                }
            }            
        },
    });
    afvalDataSource.read();
</script>    
    
    <!-- END_CUSTOM_CODE_kendoUiMobileApp -->
</body>

</html>